<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add Article - ThoughtHive</title>
<style>
body {
  margin:0;
  font-family:Arial,sans-serif;
  background: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1400&q=80') no-repeat center center fixed;
  background-size: cover;
  color:#fff;
  display:flex;
  flex-direction:column;
  min-height:100vh;
}
.page-container{
  flex:1;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  padding:20px;
  backdrop-filter:blur(12px);
}
h1{text-align:center;margin-bottom:20px;}
form{
  background: rgba(0,0,0,0.75);
  padding:30px;
  border-radius:20px;
  width:100%;
  max-width:500px;
  display:flex;
  flex-direction:column;
  gap:15px;
}
input,textarea,select{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  background: rgba(255,255,255,0.1);
  color:#fff;
  font-size:1em;
}
button.submit-btn{
  background:#007bff;
  color:white;
  padding:12px;
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-size:1em;
}
button.submit-btn:hover{background:#0056b3;}
button.back-btn{
  background:#ff4d4d;
  color:white;
  border:none;
  border-radius:12px;
  padding:10px 15px;
  cursor:pointer;
  font-size:1em;
}
</style>
</head>
<body>

<div class="page-container">
  <h1>Add Article</h1>
  <form id="article-form">
    <input type="text" id="title" placeholder="Article Title" required>
    <textarea id="content" placeholder="Write your article..." rows="5" required></textarea>
    <input type="text" id="author" placeholder="Your Name" required>
    <select id="category" required>
      <option value="">Select Category</option>
      <option value="Animal">Animal</option>
      <option value="Cars">Cars</option>
      <option value="Engineering">Engineering</option>
      <option value="Technology">Technology</option>
      <option value="Lifestyle">Lifestyle</option>
      <option value="Education">Education</option>
      <option value="Science">Science</option>
      <option value="Travel">Travel</option>
      <option value="Health & Fitness">Health & Fitness</option>
      <option value="Art & Design">Art & Design</option>
      <option value="Sports">Sports</option>
      <option value="Music">Music</option>
      <option value="Food & Recipes">Food & Recipes</option>
      <option value="History & Culture">History & Culture</option>
      <option value="Movies & Entertainment">Movies & Entertainment</option>
    </select>
    <input type="text" id="custom-category" placeholder="Or type custom category (optional)">
    <button type="submit" class="submit-btn">Post Article</button>
    <button type="button" class="back-btn" onclick="window.location.href='index.html'">âœ– Back</button>
  </form>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyAQ4oeDRpMPkpxtcxq-xe7qRwUfIrhUztw",
  authDomain: "thoughthive-ebf0d.firebaseapp.com",
  projectId: "thoughthive-ebf0d",
  storageBucket: "thoughthive-ebf0d.firebasestorage.app",
  messagingSenderId: "254009291887",
  appId: "1:254009291887:web:b5ce7301fb673ba257499a",
  measurementId: "G-5C2Q4SDZ3Y"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

document.getElementById('article-form').addEventListener('submit', async function(e){
  e.preventDefault();
  const title=document.getElementById('title').value;
  const content=document.getElementById('content').value;
  const author=document.getElementById('author').value;
  let category=document.getElementById('category').value;
  const customCat=document.getElementById('custom-category').value.trim();
  if(customCat) category=customCat;

  if(!title||!content||!author||!category){ alert('Please fill all required fields!'); return; }

  try{
    await db.collection('articles').add({
      title, content, author, category,
      timestamp: firebase.firestore.FieldValue.serverTimestamp()
    });
    alert('Article posted!');
    window.location.href='index.html';
  }catch(err){alert('Error: '+err.message);}
});
</script>
</body>
</html>
